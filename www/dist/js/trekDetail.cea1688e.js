(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trekDetail"],{"1dde":function(t,e,o){var s=o("d039"),n=o("b622"),r=o("2d00"),i=n("species");t.exports=function(t){return r>=51||!s((function(){var e=[],o=e.constructor={};return o[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"7f55":function(t,e,o){"use strict";var s=o("b446"),n=o.n(s);n.a},8418:function(t,e,o){"use strict";var s=o("c04e"),n=o("9bf2"),r=o("5c6c");t.exports=function(t,e,o){var i=s(e);i in t?n.f(t,i,r(0,o)):t[i]=o}},"8b2a":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"trek-detail"},[o("h2",{staticClass:"trek-detail__title"},[t._v(t._s(t.trek.title))]),o("div",{staticClass:"trek-detail__dates"},[t._v(t._s(t.trekDates))]),0==t.currentStop?[o("div",{staticClass:"trek-detail__desc"},[o("p",[t._v(t._s(t.trek.description))])])]:t._e(),o("div",{staticClass:"trek-detail__controls"},[o("button",{class:{"is-disabled":0==t.currentStop},on:{click:t.prevStop}},[t._v("previous stop")]),o("button",{class:{"is-disabled":t.currentStop==t.stops.length-1},on:{click:t.nextStop}},[t._v("next stop")])]),t.stops.length?[o("stop-detail",{attrs:{stop:t.stops[t.currentStop]}})]:t._e()],2)},n=[],r=(o("99af"),o("d81d"),o("d3b7"),o("5a0c")),i=o.n(r),a=o("0c12"),c=o("561d"),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"stop"},[o("div",{staticClass:"stop__title"},[t._v(t._s(t.stop.title))]),o("ul",{staticClass:"entry-list"},t._l(t.stop.entries,(function(e){return o("li",{key:e._id,staticClass:"entry"},[o("h5",{staticClass:"entry__title"},[t._v(t._s(e.title))]),o("ul",{staticClass:"photo-list"},t._l(e.photos,(function(e){return o("li",{key:e._id},[o("div",{staticClass:"photo"},[o("div",{staticClass:"photo__img"},[o("img",{attrs:{src:t.imgPath+e.filePath}})]),e.caption?o("div",{staticClass:"photo__caption"},[o("div",{staticClass:"photo__caption-text"},[t._v(t._s(e.caption))])]):t._e()])])})),0)])})),0)])},u=[],p={name:"StopDetail",props:{stop:{type:Object}},computed:{imgPath:function(){return c["a"]+"uploads/"}}},d=p,f=(o("7f55"),o("2877")),h=Object(f["a"])(d,l,u,!1,null,null,null),_=h.exports,v={name:"trekDetail",components:{StopDetail:_},data:function(){return{trek:{},stops:[],currentStop:0}},computed:{trekDates:function(){return i()(this.trek.startDate).format("MMMM D, YYYY")+" - "+i()(this.trek.endDate).format("MMMM D, YYYY")}},methods:{prevStop:function(){this.currentStop>0&&(window.scrollTo(0,0),this.currentStop--,a["a"].$emit("stopShown",this.stops[this.currentStop].location.coordinates))},nextStop:function(){this.currentStop<this.stops.length-1&&(window.scrollTo(0,0),this.currentStop++,a["a"].$emit("stopShown",this.stops[this.currentStop].location.coordinates))}},mounted:function(){var t=this;fetch("".concat(c["a"],"api/treks/").concat(this.$route.params.id)).then((function(t){return t.json()})).then((function(e){t.trek=e.trek,t.stops=e.stops;var o=t.stops.map((function(t){return t.location.coordinates}));a["a"].$emit("trekLoaded",o)}))}},m=v,b=(o("9bb1"),Object(f["a"])(m,s,n,!1,null,null,null));e["default"]=b.exports},"99af":function(t,e,o){"use strict";var s=o("23e7"),n=o("d039"),r=o("e8b5"),i=o("861d"),a=o("7b0b"),c=o("50c4"),l=o("8418"),u=o("65f0"),p=o("1dde"),d=o("b622"),f=o("2d00"),h=d("isConcatSpreadable"),_=9007199254740991,v="Maximum allowed index exceeded",m=f>=51||!n((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=p("concat"),k=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)},S=!m||!b;s({target:"Array",proto:!0,forced:S},{concat:function(t){var e,o,s,n,r,i=a(this),p=u(i,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(r=-1===e?i:arguments[e],k(r)){if(n=c(r.length),d+n>_)throw TypeError(v);for(o=0;o<n;o++,d++)o in r&&l(p,d,r[o])}else{if(d>=_)throw TypeError(v);l(p,d++,r)}return p.length=d,p}})},"9bb1":function(t,e,o){"use strict";var s=o("a35d"),n=o.n(s);n.a},a35d:function(t,e,o){},b446:function(t,e,o){},d81d:function(t,e,o){"use strict";var s=o("23e7"),n=o("b727").map,r=o("1dde"),i=o("ae40"),a=r("map"),c=i("map");s({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=trekDetail.cea1688e.js.map