(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trekDetail"],{"1dde":function(t,s,o){var e=o("d039"),n=o("b622"),i=o("2d00"),r=n("species");t.exports=function(t){return i>=51||!e((function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},1!==s[t](Boolean).foo}))}},"7f55":function(t,s,o){"use strict";var e=o("b446"),n=o.n(e);n.a},"8b2a":function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"trek-detail"},[o("h2",{staticClass:"trek-detail__title"},[t._v(t._s(t.trek.title))]),o("div",{staticClass:"trek-detail__dates"},[t._v(t._s(t.trekDates))]),0==t.currentStop?[o("div",{staticClass:"trek-detail__desc"},[o("p",[t._v(t._s(t.trek.description))])])]:t._e(),o("div",{staticClass:"trek-detail__controls"},[o("button",{class:{"is-disabled":0==t.currentStop},on:{click:t.prevStop}},[t._v("previous stop")]),o("button",{class:{"is-disabled":t.currentStop==t.stops.length-1},on:{click:t.nextStop}},[t._v("next stop")])]),t.stops.length?[o("stop-detail",{attrs:{stop:t.stops[t.currentStop]}})]:t._e()],2)},n=[],i=(o("d81d"),o("d3b7"),o("5a0c")),r=o.n(i),a=o("0c12"),c=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"stop"},[o("div",{staticClass:"stop__title"},[t._v(t._s(t.stop.title))]),o("ul",{staticClass:"entry-list"},t._l(t.stop.entries,(function(s){return o("li",{key:s._id,staticClass:"entry"},[o("h5",{staticClass:"entry__title"},[t._v(t._s(s.title))]),o("ul",{staticClass:"photo-list"},t._l(s.photos,(function(s){return o("li",{key:s._id},[o("div",{staticClass:"photo"},[o("div",{staticClass:"photo__img"},[o("img",{attrs:{src:"http://localhost:7777/uploads/"+s.filePath}})]),s.caption?o("div",{staticClass:"photo__caption"},[o("div",{staticClass:"photo__caption-text"},[t._v(t._s(s.caption))])]):t._e()])])})),0)])})),0)])},l=[],p={name:"StopDetail",props:{stop:{type:Object}}},u=p,d=(o("7f55"),o("2877")),_=Object(d["a"])(u,c,l,!1,null,null,null),h=_.exports,f={name:"trekDetail",components:{StopDetail:h},data:function(){return{trek:{},stops:[],currentStop:0}},computed:{trekDates:function(){return r()(this.trek.startDate).format("MMMM D, YYYY")+" - "+r()(this.trek.endDate).format("MMMM D, YYYY")}},methods:{prevStop:function(){this.currentStop>0&&(window.scrollTo(0,0),this.currentStop--,a["a"].$emit("stopShown",this.stops[this.currentStop].location.coordinates))},nextStop:function(){this.currentStop<this.stops.length-1&&(window.scrollTo(0,0),this.currentStop++,a["a"].$emit("stopShown",this.stops[this.currentStop].location.coordinates))}},mounted:function(){var t=this;fetch("http://localhost:7777/api/treks/".concat(this.$route.params.id)).then((function(t){return t.json()})).then((function(s){t.trek=s.trek,t.stops=s.stops;var o=t.stops.map((function(t){return t.location.coordinates}));a["a"].$emit("trekLoaded",o)}))}},v=f,k=(o("9bb1"),Object(d["a"])(v,e,n,!1,null,null,null));s["default"]=k.exports},"9bb1":function(t,s,o){"use strict";var e=o("a35d"),n=o.n(e);n.a},a35d:function(t,s,o){},b446:function(t,s,o){},d81d:function(t,s,o){"use strict";var e=o("23e7"),n=o("b727").map,i=o("1dde"),r=o("ae40"),a=i("map"),c=r("map");e({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=trekDetail.ba0286d5.js.map